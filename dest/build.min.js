/* llang 0.0.2 by Petr Nevyhoštěný <petr.nevyhosteny@gmail.com> */
!function(){"use strict";function n(n){return JSON.parse(JSON.stringify(n))}function t(n){for(var t,r,e=[],u=0;u<Math.pow(2,n);u++){r=u.toString(2),t=[];for(var i=0;n>i;i++)t.push(i<n-r.length?0:+r[i-n+r.length]);e.push(t.slice(0))}return e}function r(t){function r(){return e=t.shift()}t=n(t);for(var e,u=[];r();)"variable"==e.type&&u.push(e.value);return u.sort(function(n,t){return n>t?1:-1}).filter(function(n,t,r){return r.indexOf(n)==t})}function e(n){return function(){var t={},r=arguments;return n.forEach(function(n,e){t[n]=!!r[e]}),t}}function u(t){function r(n){n=n||null;for(var t=[];e();)if("boundary"==a.type){if("("==a.value)t.push(r());else if(")"==a.value)return u(n,t)}else if("variable"==a.type){if(t.push(u("substitution",[a.value])),o(n))return u(n,t)}else if("operator"==a.type){if(o(a.value)){t.push(r(a.value));continue}if(n){var i=t.slice(0);t=[],t.push(u(n,i))}n=a.value}return u(n,t)}function e(){return a=t.shift()}function u(n,t){return{action:i(n),args:t}}function i(n){var t={"!":"negation","|":"disjunction","&":"conjunction","->":"implication","<->":"equivalence"};return t[n]||n}function o(n){return"!"===n}t=n(t);var a;return r()}function i(t,r){function e(n,t){for(var r=0;r<t.length;r++)"object"==typeof t[r]&&(t[r]=e(t[r].action,t[r].args));return u[n](t)}t=n(t);var u={substitution:function(n){return r[n[0]]},negation:function(n){return!n[0]},disjunction:function(n){return n[0]||n[1]},conjunction:function(n){return n[0]&&n[1]},implication:function(n){return!n[0]||n[1]},equivalence:function(n){return n[0]&&n[1]||!n[0]&&!n[1]}};return e(t.action,t.args)}function o(n){function t(){return c=n[l++]}function r(n,t){s.push({type:n,value:t})}function e(n){return/\s/.test(n)}function u(n){return/[A-Za-z]/.test(n)}function i(n){return/[<>\-|&!]/.test(n)}function o(n){return/[\(\)]/.test(n)}function a(n){return-1!==["!","|","&","->","<->"].indexOf(n)}function f(n,t){throw new Error('Unrecognized token "'+n+'" on position '+t+"!")}for(var c,l=0,s=[],v="";t();)if(i(c))v+=c,a(v)&&(r("operator",v),v="");else{if(v.length&&f(v,l-v.length-1),e(c))continue;u(c)?r("variable",c.toUpperCase()):o(c)?r("boundary",c):f(c,l-2)}return s}var a={_evaluate:function(n,t,r,o){var a=u(r),f=e(o);return i(a,f.apply(f,t))},evaluate:function(n,t){var e=o(n);return this._evaluate(n,t,e,r(e))},evaluateAll:function(n){for(var e=o(n),u=r(e),i=u.length,a=[],f=t(i),c=0,l=Math.pow(2,i);l>c;c++)a.push(this._evaluate(n,f[c],e,u));return a},_:{lex:o,parse:u,getInitializator:e,getVariables:r,interpret:i}};"undefined"!=typeof window?window.llang=a:module.exports=a}();